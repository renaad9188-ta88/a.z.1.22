# منصة خدمات السوريين

منصة شاملة لتنظيم الزيارات وتسهيل الإجراءات للمعتمرين والزوار.

## المميزات

### للمستخدمين
- ✅ تسجيل دخول/تسجيل سهل وسلس
- ✅ طلب زيارة جديد مع جميع البيانات المطلوبة
- ✅ لوحة تحكم شخصية لمتابعة الطلبات والحجوزات
- ✅ رفع صور الجوازات والوثائق
- ✅ متابعة حالة الطلب في الوقت الفعلي
- ✅ خريطة تفاعلية لتتبع السائقين

### للإدارة
- ✅ لوحة تحكم إدارية شاملة
- ✅ إدارة جميع الطلبات
- ✅ تعديل حالة الطلبات
- ✅ إضافة ملاحظات إدارية
- ✅ إدارة السائقين
- ✅ عرض الإحصائيات

## التقنيات المستخدمة

- **Frontend:** Next.js 14 (App Router)
- **Backend & Database:** Supabase
- **Storage:** Supabase Storage
- **Maps:** Google Maps API
- **Styling:** Tailwind CSS
- **Language:** TypeScript

## متطلبات التشغيل

- Node.js 18+ 
- npm أو yarn
- حساب Supabase
- Google Maps API Key

## التثبيت والإعداد

### 1. تثبيت المتطلبات

```bash
npm install
# أو
yarn install
```

### 2. إعداد متغيرات البيئة

أنشئ ملف `.env.local` في المجلد الرئيسي:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=your_google_maps_api_key
```

### 3. إعداد قاعدة البيانات

1. افتح Supabase Dashboard
2. اذهب إلى SQL Editor
3. انسخ محتوى ملف `supabase/schema.sql`
4. قم بتنفيذ SQL في Supabase

### 4. إعداد Storage

1. في Supabase Dashboard، اذهب إلى Storage
2. تأكد من وجود bucket باسم `passports`
3. إذا لم يكن موجوداً، أنشئه مع الإعدادات التالية:
   - Name: `passports`
   - Public: `false`

### 5. تشغيل المشروع

```bash
npm run dev
# أو
yarn dev
```

افتح [http://localhost:3000](http://localhost:3000) في المتصفح.

## هيكل المشروع

```
├── app/                    # صفحات Next.js
│   ├── auth/              # صفحات المصادقة
│   ├── dashboard/         # لوحة تحكم المستخدم
│   ├── admin/             # لوحة تحكم الإدارة
│   ├── request-visit/     # صفحة طلب الزيارة
│   ├── map/               # صفحة الخريطة
│   ├── contact/           # صفحة التواصل
│   └── terms/             # صفحة الشروط والأحكام
├── components/            # المكونات القابلة لإعادة الاستخدام
│   ├── auth/             # مكونات المصادقة
│   ├── VisitRequestForm.tsx
│   ├── DashboardContent.tsx
│   └── AdminDashboard.tsx
├── lib/                   # المكتبات والمساعدات
│   ├── supabase.ts       # إعداد Supabase
│   └── database.types.ts # أنواع قاعدة البيانات
└── supabase/             # ملفات قاعدة البيانات
    └── schema.sql        # مخطط قاعدة البيانات
```

## الصفحات الرئيسية

### الصفحة الرئيسية (`/`)
- نبذة عن المنصة
- الخدمات المقدمة
- معلومات التواصل
- زر البدء في الحجز

### طلب الزيارة (`/request-visit`)
نموذج متعدد الخطوات يتضمن:
1. بيانات الزائر (الاسم، الجنسية، الجواز)
2. بيانات الرحلة (نوع الزيارة، التاريخ، المدينة)
3. بيانات المرافقين
4. بيانات السائق والنقل
5. تفاصيل السكن
6. الحجز والدفع

### لوحة تحكم المستخدم (`/dashboard`)
- عرض جميع الطلبات
- حالة كل طلب
- إحصائيات سريعة
- إجراءات سريعة

### لوحة تحكم الإدارة (`/admin`)
- عرض جميع الطلبات
- تعديل حالة الطلبات
- إضافة ملاحظات
- إحصائيات شاملة

### الخريطة التفاعلية (`/map`)
- عرض مواقع السائقين
- تتبع في الوقت الفعلي
- معلومات السائقين

## قاعدة البيانات

### الجداول الرئيسية

1. **profiles** - ملفات المستخدمين الشخصية
2. **visit_requests** - طلبات الزيارة
3. **bookings** - الحجوزات
4. **drivers** - السائقين

## الأمان

- Row Level Security (RLS) مفعل على جميع الجداول
- المستخدمون يمكنهم فقط رؤية وتعديل بياناتهم الخاصة
- رفع الملفات محمي بسياسات خاصة

## التطوير المستقبلي

- [ ] نظام دفع إلكتروني متكامل
- [ ] إشعارات فورية (Email, SMS, Push)
- [ ] تطبيق موبايل
- [ ] نظام تقييم ومراجعات
- [ ] لوحة تحكم متقدمة للإحصائيات
- [ ] دعم متعدد اللغات

## الدعم

للحصول على المساعدة، يرجى استخدام نموذج التواصل في المنصة.

## الترخيص

جميع الحقوق محفوظة © 2026 منصة خدمات السوريين في الأردن

