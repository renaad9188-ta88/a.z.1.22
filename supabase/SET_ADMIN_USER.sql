-- ============================================
-- ملف تعيين مستخدم كإداري
-- ============================================
-- 
-- خطوات الحصول على معرف المستخدم:
-- 1. اذهب إلى Supabase Dashboard
-- 2. Authentication > Users
-- 3. انقر على المستخدم الذي تريد تعيينه كإداري
-- 4. انسخ "User UID" (يبدو مثل: 123e4567-e89b-12d3-a456-426614174000)
-- 5. استبدل 'معرف_المستخدم_هنا' أدناه بالمعرف الذي نسخته
-- ============================================

-- الطريقة 1: إذا كان المستخدم موجود في profiles
-- استبدل 'معرف_المستخدم_هنا' بمعرف المستخدم الفعلي
UPDATE profiles 
SET role = 'admin' 
WHERE user_id = 'معرف_المستخدم_هنا'::uuid;

-- ============================================
-- مثال:
-- ============================================
-- إذا كان معرف المستخدم هو: 123e4567-e89b-12d3-a456-426614174000
-- فاكتب:
-- UPDATE profiles 
-- SET role = 'admin' 
-- WHERE user_id = '123e4567-e89b-12d3-a456-426614174000'::uuid;

-- ============================================
-- الطريقة 2: إذا كان المستخدم غير موجود في profiles
-- ============================================
-- قم بإلغاء التعليق عن السطور التالية واستبدل القيم:
-- INSERT INTO profiles (user_id, full_name, role)
-- VALUES ('معرف_المستخدم_هنا'::uuid, 'اسم المسؤول', 'admin')
-- ON CONFLICT (user_id) DO UPDATE SET role = 'admin';

-- ============================================
-- التحقق من المستخدمين الإداريين
-- ============================================
-- بعد التنفيذ، نفذ هذا الأمر للتحقق:
-- SELECT user_id, full_name, role FROM profiles WHERE role = 'admin';
